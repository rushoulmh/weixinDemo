function btnClickMov(e){e.initX=e.x,e.initY=e.y,e.initS=e.scaleX;var n=.8;e.x=e.x+e.width*(1-n)/2,e.y=e.y+e.height*(1-n)/2,e.scaleX=e.scaleY=n,setTimeout(function(){e.x=e.initX,e.y=e.initY,e.scaleX=e.scaleY=1},100)}function pageTweenTrue(){isPageTweening=!0,setTimeout(function(){isPageTweening=!1},1e3)}function touchMoveTrue(){isTouchMove=!0,setTimeout(function(){isTouchMove=!1},500)}function pageDown(e){downY=e.stageY,downX=e.stageX}function pageUP(e){var n=e.stageY-downY,o=e.stageX-downX,a=pageArr[onPageNum].name;Math.abs(n)>Math.abs(o)?n<-100?(touchMoveTrue(),nextPage()):n>100&&(touchMoveTrue(),prevPage()):"p2"!=a&&"p3"!=a&&"p4"!=a||(o<-100?window["page"+a.slice(1)].rbtnClick():o>100&&window["page"+a.slice(1)].lbtnClick())}function nextPage(){onPageNum<maxPageNum-1&&0==isPageTweening&&(pageTweenTrue(),annie.Tween.to(pageArr[onPageNum],slideSpeed,{y:-1040,ease:easeType}),onPageNum++,pageArr[onPageNum].visible=!0,pageArr[onPageNum].y=1040,MtaH5Click("nextpage_"+pageArr[onPageNum].name),annie.Tween.to(pageArr[onPageNum],slideSpeed,{y:0,ease:easeType,onComplete:function(){pageArr[onPageNum-1].visible=!1,"p5"==pageArr[onPageNum].name?pageArr[onPageNum].gotoAndPlay(2):"board"==pageArr[onPageNum].name&&(rootCon.removeChild(rootCon.p1),rootCon.removeChild(rootCon.p2),rootCon.removeChild(rootCon.p3),rootCon.removeChild(rootCon.p4),rootCon.removeChild(rootCon.p5),Flash2x.unLoadScene("p1"),Flash2x.unLoadScene("p2"),Flash2x.unLoadScene("p3"),Flash2x.unLoadScene("p4"),Flash2x.unLoadScene("p5"),console.log("rootCon.removeChild"))}}))}function prevPage(){onPageNum>0&&0==isPageTweening&&(console.log("prevPage:"),pageTweenTrue(),annie.Tween.to(pageArr[onPageNum],slideSpeed,{y:1040,ease:easeType}),onPageNum--,MtaH5Click("prevpage_"+pageArr[onPageNum].name),pageArr[onPageNum].visible=!0,annie.Tween.to(pageArr[onPageNum],slideSpeed,{y:0,ease:easeType,onComplete:function(){pageArr[onPageNum+1].visible=!1}}))}function soundInit(){function e(n){bgMusic.play(),pageRoot.removeEventListener(annie.MouseEvent.MOUSE_DOWN,e)}soundIcon=pageRoot.music_btn,soundIcon.addEventListener(annie.MouseEvent.MOUSE_DOWN,soundIconDown),bgMusic=window.document.getElementById("bgMusic"),bgMusic.src=bgMusic.getAttribute("srcUrl"),bgMusic.paused&&pageRoot.addEventListener(annie.MouseEvent.MOUSE_DOWN,e)}function soundIconDown(e){bgMusic.paused?(bgMusic.play(),soundIcon.gotoAndStop(1)):(bgMusic.pause(),soundIcon.gotoAndStop(2))}function soundPlay(){bgMusic.play(),soundIcon.gotoAndStop(1)}function soundStop(){bgMusic.pause(),soundIcon.gotoAndStop(2)}var F2xExtend=__extends,loadingSp,rootCon,pageRoot,pageArr=[],pageWidth=640,pageHeight=1040,onPageNum=0,maxPageNum,isTouchMove=!1,isPageTweening=!1,slideSpeed=.6,easeType="",downX,downY;Flash2x._isReleased=1511959213622;window.addEventListener("load",function(){function e(){soundInit(),Flash2x.loadScene(["p1","p2","p3","p4","p5","board"],function(e){trace("加载进度:"+e+"%");var n=parseInt(5*e/2);loadingSp.loading_num.text=n+"%"},function(e){console.log("result.sceneName:",e.sceneName);var n;"p1"==e.sceneName?n=(new p1.P1).p1:"p2"==e.sceneName?(loadingSp.visible=!1,rootCon.p1.gotoAndPlay(2),n=(new p2.P2).p2,n.addEventListener(annie.MouseEvent.MOUSE_DOWN,pageDown),n.addEventListener(annie.MouseEvent.MOUSE_UP,pageUP),n.visible=!1):"p3"==e.sceneName?(n=(new p3.P3).p3,n.addEventListener(annie.MouseEvent.MOUSE_DOWN,pageDown),n.addEventListener(annie.MouseEvent.MOUSE_UP,pageUP),n.visible=!1):"p4"==e.sceneName?(n=(new p4.P4).p4,n.addEventListener(annie.MouseEvent.MOUSE_DOWN,pageDown),n.addEventListener(annie.MouseEvent.MOUSE_UP,pageUP),n.visible=!1):"p5"==e.sceneName?(n=(new p5.P5).p5,n.addEventListener(annie.MouseEvent.MOUSE_DOWN,pageDown),n.addEventListener(annie.MouseEvent.MOUSE_UP,pageUP),n.visible=!1):"board"==e.sceneName&&(n=new board.Board,n.visible=!1),n.name=e.sceneName,rootCon[e.sceneName]=n,rootCon.addChild(n),pageArr.push(n),maxPageNum=pageArr.length})}annie.debug=!1;var n=new annie.Stage("annieEngine",640,1040,30,annie.StageScaleMode.FIXED_HEIGHT,0);n.addEventListener(annie.Event.INIT_TO_STAGE,function(o){easeType=annie.Tween.cubicInOut,rootCon=new annie.Sprite,pageRoot=rootCon,n.addChild(rootCon),Flash2x.loadScene("loading",function(e){trace("加载进度:"+e+"%")},function(o){if(o.sceneId==o.sceneTotal){loadingClass=new loading.Loading,loadingSp=loadingClass.loadingSp;var a=loadingClass.music_btn;rootCon.music_btn=a,n.addChild(a),n.addChild(loadingClass.page_mask0),n.addChild(loadingClass.page_mask1),n.addChild(loadingSp),e()}})}),bgMusic=window.document.getElementById("bgMusic"),document.addEventListener("WeixinJSBridgeReady",function(){bgMusic.play()},!1)});